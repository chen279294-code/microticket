:root{
    --topbar:#ff6a35;
    --bg:#f5f6f8;
    --sidebar:#ffffff;
    --text:#2c2c2c;
    --muted:#909399;
    --border:#e6e8ee;
    --shadow:0 6px 18px rgba(0,0,0,.06);
}

*{ box-sizing:border-box; }
html,body{
    height:100%;
    margin:0;
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"PingFang SC","Microsoft YaHei",sans-serif;
    color:var(--text);
}
body{ background:var(--bg); }

.layout{
    display:grid;
    grid-template-columns: 240px 1fr;
    grid-template-rows: 56px 1fr;
    grid-template-areas:
            "topbar topbar"
            "sidebar content";
    height:100%;
}

.topbar{
    grid-area: topbar;
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:0 16px;
    background:var(--topbar);
    color:#fff;
}

.brand{ display:flex; align-items:center; gap:10px; }
.logo-dot{
    width:18px;height:18px;border-radius:50%;
    background:#1e88e5;
    box-shadow:0 0 0 3px rgba(255,255,255,.25) inset;
}
.brand-title{ font-weight:700; font-size:18px; }

.breadcrumb{ opacity:.9; font-size:14px; }

.topbar-right{ display:flex; align-items:center; gap:10px; }
.avatar{
    width:30px; height:30px; border-radius:50%;
    background: radial-gradient(circle at 30% 30%, #fff, rgba(255,255,255,.5));
    border:2px solid rgba(255,255,255,.6);
}
.role-badge{ font-size:14px; }

.sidebar{
    grid-area: sidebar;
    background:var(--sidebar);
    border-right:1px solid var(--border);
    overflow:auto;
}

.menu{ padding:10px 0; }

.menu-item,
.menu-group-title{
    display:flex;
    align-items:center;
    gap:10px;
    padding:12px 16px;
    cursor:pointer;
    user-select:none;
    color:#303133;
}

.menu-item:hover,
.menu-group-title:hover{ background:#f7f8fa; }

.menu-item.active{
    background:rgba(255,106,53,.12);
    border-left:4px solid var(--topbar);
    padding-left:12px;
    font-weight:600;
}

.menu-group{ margin-top:6px; }

.menu-sub .menu-item{
    padding:10px 16px 10px 44px;
    font-size:14px;
    color:#606266;
}

.icon{ width:20px; text-align:center; }

.content{
    grid-area: content;
    padding:16px;
    overflow:auto;
}

.view.hidden{ display:none; }

.cards{
    display:grid;
    grid-template-columns: repeat(4, minmax(200px, 1fr));
    gap:16px;
    margin-bottom:16px;
}

.stat-card{
    background:#fff;
    border:1px solid var(--border);
    border-radius:10px;
    box-shadow:var(--shadow);
    padding:16px;
    display:grid;
    grid-template-columns: 64px 1fr;
    grid-template-rows: auto auto;
    grid-template-areas:
            "icon title"
            "icon value";
    gap:6px 12px;
}

.stat-icon{
    grid-area:icon;
    width:56px;height:56px;border-radius:50%;
    display:flex;align-items:center;justify-content:center;
    color:#fff;font-weight:800;font-size:20px;
}
.stat-icon.red{ background:#e74c3c; }
.stat-icon.orange{ background:#ff7a45; }
.stat-icon.wine{ background:#b71c1c; }
.stat-icon.gold{ background:#f4c542; color:#4a3b00; }

.stat-title{ grid-area:title; color:#303133; font-size:16px; font-weight:600; }
.stat-value{ grid-area:value; font-size:26px; font-weight:800; }

.panel{
    background:#fff;
    border:1px solid var(--border);
    border-radius:10px;
    box-shadow:var(--shadow);
    padding:16px;
    margin-bottom:16px;
}

.panel-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:10px; }
.panel-title{ font-size:18px; font-weight:800; margin-bottom:4px; }
.panel-subtitle{ color:var(--muted); font-size:13px; }

.chart-placeholder{
    height:380px;
    border:1px dashed #dcdfe6;
    border-radius:8px;
    display:flex;
    align-items:center;
    justify-content:center;
    color:#909399;
}

.toolbar{
    display:flex;
    gap:10px;
    align-items:center;
    margin:12px 0 10px;
}

.input{
    flex:1;
    height:36px;
    border:1px solid var(--border);
    border-radius:8px;
    padding:0 12px;
    outline:none;
}

.input:focus{
    border-color: rgba(255,106,53,.6);
    box-shadow:0 0 0 3px rgba(255,106,53,.15);
}

.btn{
    height:36px;
    padding:0 14px;
    border:1px solid var(--topbar);
    background:var(--topbar);
    color:#fff;
    border-radius:8px;
    cursor:pointer;
}
.btn:hover{ filter:brightness(.98); }
.btn:disabled{ opacity:.55; cursor:not-allowed; }

.btn-ghost{
    background:#fff;
    color:var(--topbar);
    border:1px solid rgba(255,106,53,.5);
}
.btn-ghost:hover{ background:rgba(255,106,53,.08); }

.btn-danger{
    background:#f56c6c;
    border-color:#f56c6c;
}

.hint{
    color:#909399;
    font-size:13px;
    margin-bottom:8px;
    min-height:18px;
}

.table-wrap{
    overflow:auto;
    border:1px solid var(--border);
    border-radius:10px;
}

.table{
    width:100%;
    border-collapse:collapse;
    background:#fff;
    min-width:760px;
}

.table th,
.table td{
    padding:12px 12px;
    border-bottom:1px solid var(--border);
    text-align:left;
    font-size:14px;
}

.table th{
    background:#fafafa;
    color:#303133;
    font-weight:700;
}

.tag{
    display:inline-block;
    padding:2px 10px;
    border-radius:999px;
    font-size:12px;
    border:1px solid var(--border);
}

.tag-admin{
    background:rgba(255,106,53,.12);
    border-color:rgba(255,106,53,.35);
    color:#ff6a35;
}

.tag-user{
    background:rgba(30,136,229,.10);
    border-color:rgba(30,136,229,.25);
    color:#1e88e5;
}

.action-row{ display:flex; gap:8px; align-items:center; }

/* =========================
   折叠菜单
   ========================= */

/* =========================
   折叠菜单（可展开/收缩）- 最终稳定版（不要 display:none）
   ========================= */

.menu-group{
    margin-top:6px;
}

/* 标题：整行可点击 */
.menu-group-title{
    position: relative;
    z-index: 10;
    width: 100%;
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:12px 16px;
    cursor:pointer;
    user-select:none;
}

/* ✅ 关键：标题内部元素不接收点击，点击统一交给标题 */
.menu-group-title *{
    pointer-events: none;
}

.menu-group-title .left{
    display:flex;
    align-items:center;
    gap:10px;
    flex: 1;
}

/* 箭头 */
.caret{
    transition: transform .18s ease;
    color:#606266;
    font-size:14px;
}

/* 子菜单：始终 display:block，用高度来控制展开/收起 */
.menu-sub{
    display:block;
    overflow:hidden;
    max-height: 800px;              /* 展开时足够大即可 */
    transition: max-height .18s ease;
}

/* 收起：高度变为 0 */
.menu-group[data-expanded="false"] .menu-sub{
    max-height: 0;
}

/* 收起时箭头旋转 */
.menu-group[data-expanded="false"] .caret{
    transform: rotate(-90deg);
}

/* =========================
   图表容器（ECharts）
   ========================= */
.chart-box{
    height:380px;
    width:100%;
}
.chart-box.small{
    height:320px;
}

.grid-2{
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap:16px;
}

/* =========================
   响应式（手机/窄屏）
   ========================= */
@media (max-width: 980px){
    .layout{
        grid-template-columns: 220px 1fr;
    }
    .cards{
        grid-template-columns: repeat(2, minmax(180px, 1fr));
    }
    .grid-2{
        grid-template-columns: 1fr;
    }
}
